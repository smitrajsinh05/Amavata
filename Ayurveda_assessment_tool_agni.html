<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced Agni Dushti Assessment - Rudraksha Hospital</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #FFF8DC 0%, #F5E6D3 100%);
            color: #3E2723;
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            background: linear-gradient(135deg, #D2691E, #CD853F);
            color: white;
            padding: 40px 20px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(210, 105, 30, 0.3);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            position: relative;
            z-index: 1;
        }

        .header .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }

        .progress-bar {
            background: rgba(255,255,255,0.2);
            height: 8px;
            border-radius: 4px;
            margin-top: 20px;
            overflow: hidden;
            position: relative;
            z-index: 1;
        }

        .progress-fill {
            background: #228B22;
            height: 100%;
            width: 0%;
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .decorative-border {
            height: 4px;
            background: linear-gradient(90deg, #D2691E, #228B22, #CD853F);
            margin: 30px 0;
            border-radius: 2px;
        }

        .info-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 5px 20px rgba(210, 105, 30, 0.1);
            border: 2px solid #F5E6D3;
            position: relative;
        }

        .info-section::before {
            content: 'üî•';
            position: absolute;
            top: -15px;
            left: 30px;
            background: white;
            padding: 5px 10px;
            font-size: 1.5rem;
            border-radius: 50%;
            box-shadow: 0 2px 10px rgba(210, 105, 30, 0.2);
        }

        .info-section h2 {
            color: #D2691E;
            font-size: 1.8rem;
            margin-bottom: 20px;
            border-bottom: 2px solid #F5E6D3;
            padding-bottom: 10px;
        }

        .agni-types {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .agni-type {
            background: #FFF8DC;
            padding: 20px;
            border-radius: 10px;
            border-left: 5px solid #D2691E;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .agni-type:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(210, 105, 30, 0.2);
        }

        .agni-type h3 {
            color: #228B22;
            margin-bottom: 10px;
            font-size: 1.3rem;
        }

        .assessment-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 5px 20px rgba(210, 105, 30, 0.1);
            border: 2px solid #F5E6D3;
        }

        .assessment-section h2 {
            color: #D2691E;
            font-size: 1.8rem;
            margin-bottom: 20px;
            text-align: center;
        }

        .instructions {
            background: #E8F5E8;
            border: 2px solid #4CAF50;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
            text-align: center;
        }

        .agni-category {
            margin-bottom: 40px;
            background: #FFF8DC;
            padding: 25px;
            border-radius: 12px;
            border: 1px solid #F5E6D3;
            position: relative;
        }

        .agni-category h3 {
            color: #228B22;
            font-size: 1.4rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .category-counter {
            position: absolute;
            top: 15px;
            right: 20px;
            background: #D2691E;
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.9rem;
            font-weight: bold;
        }

        .symptoms-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
        }

        .symptom-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border: 2px solid #E0E0E0;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
        }

        .symptom-item:hover {
            background: #F5E6D3;
            border-color: #D2691E;
            transform: translateY(-2px);
        }

        .symptom-item.selected {
            background: linear-gradient(135deg, #D2691E, #CD853F);
            color: white;
            border-color: #D2691E;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(210, 105, 30, 0.3);
        }

        .symptom-item input[type="checkbox"] {
            margin-right: 12px;
            transform: scale(1.3);
            accent-color: #D2691E;
        }

        .symptom-item label {
            cursor: pointer;
            font-weight: 500;
            display: block;
            font-size: 0.95rem;
        }

        .severity-selector {
            margin-top: 10px;
            display: none;
        }

        .symptom-item.selected .severity-selector {
            display: block;
        }

        .severity-buttons {
            display: flex;
            gap: 5px;
            margin-top: 8px;
        }

        .severity-btn {
            background: rgba(255,255,255,0.2);
            border: 1px solid rgba(255,255,255,0.3);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.2s ease;
        }

        .severity-btn.active {
            background: rgba(255,255,255,0.3);
            border-color: rgba(255,255,255,0.5);
        }

        .result-section {
            background: linear-gradient(135deg, #228B22, #2E7D32);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-top: 30px;
            display: none;
        }

        .result-header {
            text-align: center;
            margin-bottom: 25px;
        }

        .result-header h3 {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .confidence-score {
            background: rgba(255,255,255,0.2);
            padding: 10px 20px;
            border-radius: 25px;
            display: inline-block;
            margin-bottom: 20px;
        }

        .result-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .result-card {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid rgba(255,255,255,0.2);
        }

        .result-card h4 {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: #FFE0B2;
        }

        .recommendations-list {
            list-style: none;
            padding: 0;
        }

        .recommendations-list li {
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .recommendations-list li:before {
            content: '‚úì ';
            color: #4CAF50;
            font-weight: bold;
            margin-right: 8px;
        }

        .dosha-chart {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .dosha-bar {
            margin: 10px 0;
        }

        .dosha-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .bar-container {
            background: rgba(255,255,255,0.2);
            height: 20px;
            border-radius: 10px;
            overflow: hidden;
        }

        .bar-fill {
            height: 100%;
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        .vishama-bar { background: linear-gradient(90deg, #2196F3, #64B5F6); }
        .tikshna-bar { background: linear-gradient(90deg, #FF5722, #FF8A65); }
        .manda-bar { background: linear-gradient(90deg, #795548, #A1887F); }

        .btn-assess {
            background: linear-gradient(135deg, #D2691E, #CD853F);
            color: white;
            padding: 18px 40px;
            border: none;
            border-radius: 10px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 20px auto;
            display: block;
            box-shadow: 0 4px 15px rgba(210, 105, 30, 0.3);
        }

        .btn-assess:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(210, 105, 30, 0.4);
        }

        .btn-assess:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .btn-reset {
            background: #757575;
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s ease;
        }

        .btn-reset:hover {
            background: #616161;
            transform: translateY(-2px);
        }

        .disclaimer {
            background: #FFF3E0;
            border: 2px solid #FFB74D;
            border-radius: 10px;
            padding: 20px;
            margin-top: 30px;
            text-align: center;
            font-style: italic;
        }

        .total-symptoms {
            text-align: center;
            background: #E3F2FD;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-weight: bold;
            color: #1565C0;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .symptoms-grid {
                grid-template-columns: 1fr;
            }
            
            .agni-types {
                grid-template-columns: 1fr;
            }

            .result-content {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-fire"></i> Enhanced Agni Dushti Assessment</h1>
            <p class="subtitle">Advanced Digestive Fire Imbalance Analysis</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>

        <div class="decorative-border"></div>

        <div class="info-section">
            <h2>Understanding Agni Dushti</h2>
            <p>Agni (digestive fire) is the cornerstone of health in Ayurveda. When Agni functions properly, it digests food efficiently, provides energy, and maintains immunity. Agni Dushti refers to the impairment or imbalance of this digestive fire, leading to various health issues.</p>
            
            <div class="agni-types">
                <div class="agni-type">
                    <h3><i class="fas fa-balance-scale"></i> Sama Agni</h3>
                    <p><strong>Balanced Digestive Fire:</strong> Optimal digestion, regular appetite, proper elimination, good energy levels, and overall wellness.</p>
                </div>
                
                <div class="agni-type">
                    <h3><i class="fas fa-wind"></i> Vishama Agni</h3>
                    <p><strong>Irregular Fire (Vata Dominance):</strong> Variable appetite, bloating, gas, constipation, and unpredictable digestion patterns.</p>
                </div>
                
                <div class="agni-type">
                    <h3><i class="fas fa-thermometer-full"></i> Tikshna Agni</h3>
                    <p><strong>Sharp Fire (Pitta Dominance):</strong> Excessive hunger, acid reflux, burning sensation, loose stools, and inflammatory conditions.</p>
                </div>
                
                <div class="agni-type">
                    <h3><i class="fas fa-snowflake"></i> Manda Agni</h3>
                    <p><strong>Slow Fire (Kapha Dominance):</strong> Weak appetite, heavy feeling after eating, sluggish metabolism, and weight gain tendency.</p>
                </div>
            </div>
        </div>

        <div class="assessment-section">
            <h2><i class="fas fa-clipboard-check"></i> Enhanced Agni Assessment</h2>
            
            <div class="instructions">
                <p><strong>Instructions:</strong> Select symptoms you experience and rate their intensity. This enhanced assessment provides more accurate results based on symptom severity.</p>
            </div>

            <div class="total-symptoms" id="totalSymptoms">
                Total Symptoms Selected: 0/18
            </div>

            <div class="agni-category">
                <h3><i class="fas fa-wind"></i> Vishama Agni (Vata-type Digestive Issues)</h3>
                <div class="category-counter" id="vishamaCounter">0/6</div>
                <div class="symptoms-grid">
                    <div class="symptom-item">
                        <input type="checkbox" id="vishama1" name="vishama" value="variable-appetite">
                        <label for="vishama1">Variable appetite (sometimes very hungry, sometimes no appetite)</label>
                        <div class="severity-selector">
                            <div class="severity-buttons">
                                <button class="severity-btn" data-severity="1">Mild</button>
                                <button class="severity-btn active" data-severity="2">Moderate</button>
                                <button class="severity-btn" data-severity="3">Severe</button>
                            </div>
                        </div>
                    </div>
                    <div class="symptom-item">
                        <input type="checkbox" id="vishama2" name="vishama" value="bloating">
                        <label for="vishama2">Bloating and abdominal distension</label>
                        <div class="severity-selector">
                            <div class="severity-buttons">
                                <button class="severity-btn" data-severity="1">Mild</button>
                                <button class="severity-btn active" data-severity="2">Moderate</button>
                                <button class="severity-btn" data-severity="3">Severe</button>
                            </div>
                        </div>
                    </div>
                    <div class="symptom-item">
                        <input type="checkbox" id="vishama3" name="vishama" value="gas">
                        <label for="vishama3">Excessive gas and flatulence</label>
                        <div class="severity-selector">
                            <div class="severity-buttons">
                                <button class="severity-btn" data-severity="1">Mild</button>
                                <button class="severity-btn active" data-severity="2">Moderate</button>
                                <button class="severity-btn" data-severity="3">Severe</button>
                            </div>
                        </div>
                    </div>
                    <div class="symptom-item">
                        <input type="checkbox" id="vishama4" name="vishama" value="constipation">
                        <label for="vishama4">Constipation or irregular bowel movements</label>
                        <div class="severity-selector">
                            <div class="severity-buttons">
                                <button class="severity-btn" data-severity="1">Mild</button>
                                <button class="severity-btn active" data-severity="2">Moderate</button>
                                <button class="severity-btn" data-severity="3">Severe</button>
                            </div>
                        </div>
                    </div>
                    <div class="symptom-item">
                        <input type="checkbox" id="vishama5" name="vishama" value="dry-mouth">
                        <label for="vishama5">Dry mouth and throat</label>
                        <div class="severity-selector">
                            <div class="severity-buttons">
                                <button class="severity-btn" data-severity="1">Mild</button>
                                <button class="severity-btn active" data-severity="2">Moderate</button>
                                <button class="severity-btn" data-severity="3">Severe</button>
                            </div>
                        </div>
                    </div>
                    <div class="symptom-item">
                        <input type="checkbox" id="vishama6" name="vishama" value="irregular-timing">
                        <label for="vishama6">Irregular meal timings preference</label>
                        <div class="severity-selector">
                            <div class="severity-buttons">
                                <button class="severity-btn" data-severity="1">Mild</button>
                                <button class="severity-btn active" data-severity="2">Moderate</button>
                                <button class="severity-btn" data-severity="3">Severe</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="agni-category">
                <h3><i class="fas fa-thermometer-full"></i> Tikshna Agni (Pitta-type Digestive Issues)</h3>
                <div class="category-counter" id="tikshnaCounter">0/6</div>
                <div class="symptoms-grid">
                    <div class="symptom-item">
                        <input type="checkbox" id="tikshna1" name="tikshna" value="excessive-hunger">
                        <label for="tikshna1">Excessive hunger and frequent eating</label>
                        <div class="severity-selector">
                            <div class="severity-buttons">
                                <button class="severity-btn" data-severity="1">Mild</button>
                                <button class="severity-btn active" data-severity="2">Moderate</button>
                                <button class="severity-btn" data-severity="3">Severe</button>
                            </div>
                        </div>
                    </div>
                    <div class="symptom-item">
                        <input type="checkbox" id="tikshna2" name="tikshna" value="acid-reflux">
                        <label for="tikshna2">Acid reflux and heartburn</label>
                        <div class="severity-selector">
                            <div class="severity-buttons">
                                <button class="severity-btn" data-severity="1">Mild</button>
                                <button class="severity-btn active" data-severity="2">Moderate</button>
                                <button class="severity-btn" data-severity="3">Severe</button>
                            </div>
                        </div>
                    </div>
                    <div class="symptom-item">
                        <input type="checkbox" id="tikshna3" name="tikshna" value="burning-sensation">
                        <label for="tikshna3">Burning sensation in stomach</label>
                        <div class="severity-selector">
                            <div class="severity-buttons">
                                <button class="severity-btn" data-severity="1">Mild</button>
                                <button class="severity-btn active" data-severity="2">Moderate</button>
                                <button class="severity-btn" data-severity="3">Severe</button>
                            </div>
                        </div>
                    </div>
                    <div class="symptom-item">
                        <input type="checkbox" id="tikshna4" name="tikshna" value="loose-stools">
                        <label for="tikshna4">Loose stools or diarrhea</label>
                        <div class="severity-selector">
                            <div class="severity-buttons">
                                <button class="severity-btn" data-severity="1">Mild</button>
                                <button class="severity-btn active" data-severity="2">Moderate</button>
                                <button class="severity-btn" data-severity="3">Severe</button>
                            </div>
                        </div>
                    </div>
                    <div class="symptom-item">
                        <input type="checkbox" id="tikshna5" name="tikshna" value="irritability">
                        <label for="tikshna5">Irritability when hungry</label>
                        <div class="severity-selector">
                            <div class="severity-buttons">
                                <button class="severity-btn" data-severity="1">Mild</button>
                                <button class="severity-btn active" data-severity="2">Moderate</button>
                                <button class="severity-btn" data-severity="3">Severe</button>
                            </div>
                        </div>
                    </div>
                    <div class="symptom-item">
                        <input type="checkbox" id="tikshna6" name="tikshna" value="excessive-thirst">
                        <label for="tikshna6">Excessive thirst</label>
                        <div class="severity-selector">
                            <div class="severity-buttons">
                                <button class="severity-btn" data-severity="1">Mild</button>
                                <button class="severity-btn active" data-severity="2">Moderate</button>
                                <button class="severity-btn" data-severity="3">Severe</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="agni-category">
                <h3><i class="fas fa-snowflake"></i> Manda Agni (Kapha-type Digestive Issues)</h3>
                <div class="category-counter" id="mandaCounter">0/6</div>
                <div class="symptoms-grid">
                    <div class="symptom-item">
                        <input type="checkbox" id="manda1" name="manda" value="weak-appetite">
                        <label for="manda1">Weak or reduced appetite</label>
                        <div class="severity-selector">
                            <div class="severity-buttons">
                                <button class="severity-btn" data-severity="1">Mild</button>
                                <button class="severity-btn active" data-severity="2">Moderate</button>
                                <button class="severity-btn" data-severity="3">Severe</button>
                            </div>
                        </div>
                    </div>
                    <div class="symptom-item">
                        <input type="checkbox" id="manda2" name="manda" value="heavy-feeling">
                        <label for="manda2">Heavy feeling after eating</label>
                        <div class="severity-selector">
                            <div class="severity-buttons">
                                <button class="severity-btn" data-severity="1">Mild</button>
                                <button class="severity-btn active" data-severity="2">Moderate</button>
                                <button class="severity-btn" data-severity="3">Severe</button>
                            </div>
                        </div>
                    </div>
                    <div class="symptom-item">
                        <input type="checkbox" id="manda3" name="manda" value="slow-digestion">
                        <label for="manda3">Slow digestion and food staying long in stomach</label>
                        <div class="severity-selector">
                            <div class="severity-buttons">
                                <button class="severity-btn" data-severity="1">Mild</button>
                                <button class="severity-btn active" data-severity="2">Moderate</button>
                                <button class="severity-btn" data-severity="3">Severe</button>
                            </div>
                        </div>
                    </div>
                    <div class="symptom-item">
                        <input type="checkbox" id="manda4" name="manda" value="nausea">
                        <label for="manda4">Nausea or vomiting tendency</label>
                        <div class="severity-selector">
                            <div class="severity-buttons">
                                <button class="severity-btn" data-severity="1">Mild</button>
                                <button class="severity-btn active" data-severity="2">Moderate</button>
                                <button class="severity-btn" data-severity="3">Severe</button>
                            </div>
                        </div>
                    </div>
                    <div class="symptom-item">
                        <input type="checkbox" id="manda5" name="manda" value="weight-gain">
                        <label for="manda5">Easy weight gain or difficulty losing weight</label>
                        <div class="severity-selector">
                            <div class="severity-buttons">
                                <button class="severity-btn" data-severity="1">Mild</button>
                                <button class="severity-btn active" data-severity="2">Moderate</button>
                                <button class="severity-btn" data-severity="3">Severe</button>
                            </div>
                        </div>
                    </div>
                    <div class="symptom-item">
                        <input type="checkbox" id="manda6" name="manda" value="lethargy">
                        <label for="manda6">Lethargy and sluggishness after meals</label>
                        <div class="severity-selector">
                            <div class="severity-buttons">
                                <button class="severity-btn" data-severity="1">Mild</button>
                                <button class="severity-btn active" data-severity="2">Moderate</button>
                                <button class="severity-btn" data-severity="3">Severe</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div style="text-align: center;">
                <button class="btn-assess" onclick="assessAgni()" id="assessBtn">
                    <i class="fas fa-chart-line"></i> Get Enhanced Assessment
                </button>
                <button class="btn-reset" onclick="resetAssessment()">
                    <i class="fas fa-redo"></i> Reset Assessment
                </button>
            </div>

            <div class="result-section" id="resultSection">
                <div class="result-header">
                    <h3 id="resultTitle">Your Enhanced Agni Assessment</h3>
                    <div class="confidence-score" id="confidenceScore">
                        Confidence: 85%
                    </div>
                </div>

                <div class="dosha-chart">
                    <h4 style="text-align: center; margin-bottom: 20px;">Agni Imbalance Distribution</h4>
                    <div class="dosha-bar">
                        <div class="dosha-label">
                            <span><i class="fas fa-wind"></i> Vishama Agni (Vata)</span>
                            <span id="vishamaPercent">0%</span>
                        </div>
                        <div class="bar-container">
                            <div class="bar-fill vishama-bar" id="vishamaBar" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="dosha-bar">
                        <div class="dosha-label">
                            <span><i class="fas fa-thermometer-full"></i> Tikshna Agni (Pitta)</span>
                            <span id="tikshnaPercent">0%</span>
                        </div>
                        <div class="bar-container">
                            <div class="bar-fill tikshna-bar" id="tikshnaBar" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="dosha-bar">
                        <div class="dosha-label">
                            <span><i class="fas fa-snowflake"></i> Manda Agni (Kapha)</span>
                            <span id="mandaPercent">0%</span>
                        </div>
                        <div class="bar-container">
                            <div class="bar-fill manda-bar" id="mandaBar" style="width: 0%"></div>
                        </div>
                    </div>
                </div>

                <div class="result-content">
                    <div class="result-card">
                        <h4><i class="fas fa-diagnoses"></i> Primary Diagnosis</h4>
                        <div id="primaryDiagnosis"></div>
                    </div>
                    
                    <div class="result-card">
                        <h4><i class="fas fa-leaf"></i> Dietary Recommendations</h4>
                        <ul class="recommendations-list" id="dietaryRecommendations"></ul>
                    </div>
                    
                    <div class="result-card">
                        <h4><i class="fas fa-dumbbell"></i> Lifestyle Recommendations</h4>
                        <ul class="recommendations-list" id="lifestyleRecommendations"></ul>
                    </div>
                    
                    <div class="result-card">
                        <h4><i class="fas fa-seedling"></i> Herbal Suggestions</h4>
                        <ul class="recommendations-list" id="herbalSuggestions"></ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="disclaimer">
            <p><strong>Enhanced Disclaimer:</strong> This advanced assessment tool provides comprehensive analysis based on traditional Ayurvedic principles and modern assessment techniques. However, it is not a substitute for professional medical diagnosis or treatment. Individual constitution and current health status may vary. Always consult a qualified Ayurvedic physician or healthcare professional for personalized medical advice, treatment, and before making significant dietary or lifestyle changes.</p>
        </div>
    </div>

    <script>
        let assessmentData = {
            vishama: {},
            tikshna: {},
            manda: {}
        };

        // Initialize assessment
        document.addEventListener('DOMContentLoaded', function() {
            setupEventListeners();
            updateCounters();
        });

        function setupEventListeners() {
            // Add click functionality to symptom items
            document.querySelectorAll('.symptom-item').forEach(item => {
                item.addEventListener('click', function(e) {
                    if (e.target.classList.contains('severity-btn')) return;
                    
                    const checkbox = this.querySelector('input[type="checkbox"]');
                    checkbox.checked = !checkbox.checked;
                    this.classList.toggle('selected', checkbox.checked);
                    
                    if (!checkbox.checked) {
                        // Reset severity to default when unchecked
                        const severityBtns = this.querySelectorAll('.severity-btn');
                        severityBtns.forEach(btn => btn.classList.remove('active'));
                        severityBtns[1].classList.add('active'); // Default to moderate
                    }
                    
                    updateCounters();
                    updateProgressBar();
                });
            });

            // Handle checkbox clicks directly
            document.querySelectorAll('.symptom-item input[type="checkbox"]').forEach(checkbox => {
                checkbox.addEventListener('click', function(e) {
                    e.stopPropagation();
                    this.parentElement.classList.toggle('selected', this.checked);
                    
                    if (!this.checked) {
                        const severityBtns = this.parentElement.querySelectorAll('.severity-btn');
                        severityBtns.forEach(btn => btn.classList.remove('active'));
                        severityBtns[1].classList.add('active');
                    }
                    
                    updateCounters();
                    updateProgressBar();
                });
            });

            // Handle severity button clicks
            document.querySelectorAll('.severity-btn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const container = this.closest('.severity-selector');
                    container.querySelectorAll('.severity-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                });
            });
        }

        function updateCounters() {
            const vishamaCount = document.querySelectorAll('input[name="vishama"]:checked').length;
            const tikshnaCount = document.querySelectorAll('input[name="tikshna"]:checked').length;
            const mandaCount = document.querySelectorAll('input[name="manda"]:checked').length;
            const totalCount = vishamaCount + tikshnaCount + mandaCount;

            document.getElementById('vishamaCounter').textContent = `${vishamaCount}/6`;
            document.getElementById('tikshnaCounter').textContent = `${tikshnaCount}/6`;
            document.getElementById('mandaCounter').textContent = `${mandaCount}/6`;
            document.getElementById('totalSymptoms').textContent = `Total Symptoms Selected: ${totalCount}/18`;

            // Enable/disable assessment button
            const assessBtn = document.getElementById('assessBtn');
            if (totalCount > 0) {
                assessBtn.disabled = false;
                assessBtn.style.opacity = '1';
            } else {
                assessBtn.disabled = true;
                assessBtn.style.opacity = '0.6';
            }
        }

        function updateProgressBar() {
            const totalSelected = document.querySelectorAll('input[type="checkbox"]:checked').length;
            const progress = (totalSelected / 18) * 100;
            document.getElementById('progressFill').style.width = `${progress}%`;
        }

        function getSymptomSeverity(symptomElement) {
            const activeBtn = symptomElement.querySelector('.severity-btn.active');
            return activeBtn ? parseInt(activeBtn.dataset.severity) : 2; // Default to moderate
        }

        function calculateWeightedScores() {
            let vishamaScore = 0;
            let tikshnaScore = 0;
            let mandaScore = 0;

            // Calculate Vishama score
            document.querySelectorAll('input[name="vishama"]:checked').forEach(checkbox => {
                const severity = getSymptomSeverity(checkbox.closest('.symptom-item'));
                vishamaScore += severity;
            });

            // Calculate Tikshna score
            document.querySelectorAll('input[name="tikshna"]:checked').forEach(checkbox => {
                const severity = getSymptomSeverity(checkbox.closest('.symptom-item'));
                tikshnaScore += severity;
            });

            // Calculate Manda score
            document.querySelectorAll('input[name="manda"]:checked').forEach(checkbox => {
                const severity = getSymptomSeverity(checkbox.closest('.symptom-item'));
                mandaScore += severity;
            });

            return { vishamaScore, tikshnaScore, mandaScore };
        }

        function calculateConfidence(scores) {
            const totalScore = scores.vishamaScore + scores.tikshnaScore + scores.mandaScore;
            const maxScore = Math.max(scores.vishamaScore, scores.tikshnaScore, scores.mandaScore);
            
            if (totalScore === 0) return 0;
            
            // Confidence based on dominant pattern and total symptoms
            const dominanceRatio = maxScore / totalScore;
            const symptomCount = document.querySelectorAll('input[type="checkbox"]:checked').length;
            const symptomFactor = Math.min(symptomCount / 6, 1); // Normalize to max 6 symptoms
            
            return Math.round((dominanceRatio * 0.7 + symptomFactor * 0.3) * 100);
        }

        function getDiagnosisAndRecommendations(scores) {
            const { vishamaScore, tikshnaScore, mandaScore } = scores;
            const maxScore = Math.max(vishamaScore, tikshnaScore, mandaScore);
            
            let diagnosis = '';
            let dietary = [];
            let lifestyle = [];
            let herbal = [];

            if (maxScore === 0) {
                return {
                    diagnosis: 'No significant symptoms selected. Please select symptoms for assessment.',
                    dietary: ['Maintain balanced, regular meals'],
                    lifestyle: ['Continue current healthy practices'],
                    herbal: ['Consult practitioner for personalized recommendations']
                };
            }

            if (vishamaScore === maxScore && vishamaScore >= 3) {
                diagnosis = 'üå™Ô∏è <strong>Vishama Agni Dominance</strong><br>Your digestive fire shows irregular, variable patterns characteristic of Vata imbalance. This indicates inconsistent digestive capacity with unpredictable symptoms.';
                dietary = [
                    'Eat warm, cooked, and moist foods',
                    'Maintain regular meal times (same time daily)',
                    'Favor sweet, sour, and salty tastes',
                    'Avoid cold, dry, and raw foods',
                    'Include healthy fats like ghee and olive oil',
                    'Drink warm water throughout the day'
                ];
                lifestyle = [
                    'Establish regular daily routines',
                    'Practice gentle yoga and pranayama',
                    'Get adequate sleep (7-8 hours)',
                    'Avoid excessive physical or mental stress',
                    'Practice meditation for 10-15 minutes daily',
                    'Create a calm eating environment'
                ];
                herbal = [
                    'Fresh ginger tea before meals',
                    'Trikatu (three pepper combination)',
                    'Hingvastak churna for gas and bloating',
                    'Ajwain (carom seeds) water',
                    'Cumin-coriander-fennel tea',
                    'Ashwagandha for stress management'
                ];
            } else if (tikshnaScore === maxScore && tikshnaScore >= 3) {
                diagnosis = 'üî• <strong>Tikshna Agni Dominance</strong><br>Your digestive fire is excessive and sharp, indicating Pitta imbalance. This creates hyperacidity, inflammation, and excessive metabolic heat.';
                dietary = [
                    'Eat cooling, mild, and non-spicy foods',
                    'Favor sweet, bitter, and astringent tastes',
                    'Include cucumber, mint, and coconut',
                    'Avoid spicy, oily, fried, and acidic foods',
                    'Drink adequate cool (not cold) water',
                    'Eat smaller, more frequent meals'
                ];
                lifestyle = [
                    'Avoid eating when angry or stressed',
                    'Practice cooling pranayama (Sheetali)',
                    'Engage in moderate, non-competitive exercise',
                    'Spend time in nature and cool environments',
                    'Practice patience and stress management',
                    'Avoid excessive sun exposure'
                ];
                herbal = [
                    'Coriander and fennel seed tea',
                    'Amalaki (Indian gooseberry)',
                    'Shatavari for cooling effect',
                    'Licorice root tea (in moderation)',
                    'Aloe vera juice (pure)',
                    'Brahmi for mental calm'
                ];
            } else if (mandaScore === maxScore && mandaScore >= 3) {
                diagnosis = '‚ùÑÔ∏è <strong>Manda Agni Dominance</strong><br>Your digestive fire is weak and slow, indicating Kapha imbalance. This results in sluggish metabolism, poor digestion, and accumulation of toxins.';
                dietary = [
                    'Eat light, warm, and easily digestible foods',
                    'Favor pungent, bitter, and astringent tastes',
                    'Include warming spices in every meal',
                    'Avoid heavy, oily, cold, and sweet foods',
                    'Eat your largest meal at midday',
                    'Drink warm ginger water before meals'
                ];
                lifestyle = [
                    'Engage in regular vigorous exercise',
                    'Wake up early (before 6 AM)',
                    'Practice energizing pranayama (Bhastrika)',
                    'Avoid daytime napping',
                    'Stay active throughout the day',
                    'Create stimulating, energetic environments'
                ];
                herbal = [
                    'Ginger and black pepper tea',
                    'Trikatu powder with honey',
                    'Guggulu for metabolism',
                    'Punarnava for water retention',
                    'Chitrak for digestive fire',
                    'Triphala for detoxification'
                ];
            } else {
                diagnosis = '‚öñÔ∏è <strong>Mixed Agni Pattern</strong><br>You display symptoms across multiple Agni types, suggesting a complex digestive pattern that may require individualized treatment approach.';
                dietary = [
                    'Focus on fresh, whole, seasonal foods',
                    'Maintain consistent meal timing',
                    'Include mild digestive spices',
                    'Avoid processed and packaged foods',
                    'Listen to your body\'s hunger cues',
                    'Stay adequately hydrated'
                ];
                lifestyle = [
                    'Establish regular daily routines',
                    'Practice mindful eating habits',
                    'Engage in moderate, regular exercise',
                    'Manage stress through yoga or meditation',
                    'Ensure adequate rest and sleep',
                    'Maintain work-life balance'
                ];
                herbal = [
                    'Cumin-coriander-fennel tea',
                    'Digestive enzymes before meals',
                    'Triphala for overall digestive health',
                    'Tulsi tea for general wellness',
                    'Amla for vitamin C and digestion',
                    'Consult practitioner for specific herbs'
                ];
            }

            return { diagnosis, dietary, lifestyle, herbal };
        }

        function updateResultDisplay(scores, recommendations, confidence) {
            const totalScore = scores.vishamaScore + scores.tikshnaScore + scores.mandaScore;
            
            // Update percentages
            const vishamaPercent = totalScore > 0 ? Math.round((scores.vishamaScore / totalScore) * 100) : 0;
            const tikshnaPercent = totalScore > 0 ? Math.round((scores.tikshnaScore / totalScore) * 100) : 0;
            const mandaPercent = totalScore > 0 ? Math.round((scores.mandaScore / totalScore) * 100) : 0;

            document.getElementById('vishamaPercent').textContent = `${vishamaPercent}%`;
            document.getElementById('tikshnaPercent').textContent = `${tikshnaPercent}%`;
            document.getElementById('mandaPercent').textContent = `${mandaPercent}%`;

            // Update progress bars with animation
            setTimeout(() => {
                document.getElementById('vishamaBar').style.width = `${vishamaPercent}%`;
                document.getElementById('tikshnaBar').style.width = `${tikshnaPercent}%`;
                document.getElementById('mandaBar').style.width = `${mandaPercent}%`;
            }, 300);

            // Update confidence score
            document.getElementById('confidenceScore').textContent = `Confidence: ${confidence}%`;

            // Update recommendations
            document.getElementById('primaryDiagnosis').innerHTML = recommendations.diagnosis;
            
            const dietaryList = document.getElementById('dietaryRecommendations');
            dietaryList.innerHTML = '';
            recommendations.dietary.forEach(item => {
                const li = document.createElement('li');
                li.textContent = item;
                dietaryList.appendChild(li);
            });

            const lifestyleList = document.getElementById('lifestyleRecommendations');
            lifestyleList.innerHTML = '';
            recommendations.lifestyle.forEach(item => {
                const li = document.createElement('li');
                li.textContent = item;
                lifestyleList.appendChild(li);
            });

            const herbalList = document.getElementById('herbalSuggestions');
            herbalList.innerHTML = '';
            recommendations.herbal.forEach(item => {
                const li = document.createElement('li');
                li.textContent = item;
                herbalList.appendChild(li);
            });
        }

        function assessAgni() {
            const scores = calculateWeightedScores();
            const confidence = calculateConfidence(scores);
            const recommendations = getDiagnosisAndRecommendations(scores);

            updateResultDisplay(scores, recommendations, confidence);

            const resultSection = document.getElementById('resultSection');
            resultSection.style.display = 'block';
            resultSection.scrollIntoView({ behavior: 'smooth' });
        }

        function resetAssessment() {
            // Uncheck all checkboxes
            document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                checkbox.checked = false;
                checkbox.closest('.symptom-item').classList.remove('selected');
            });

            // Reset all severity selectors to moderate
            document.querySelectorAll('.severity-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelectorAll('.severity-selector').forEach(selector => {
                selector.querySelectorAll('.severity-btn')[1].classList.add('active');
            });

            // Hide results
            document.getElementById('resultSection').style.display = 'none';

            // Update counters and progress
            updateCounters();
            updateProgressBar();

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
</body>
</html>